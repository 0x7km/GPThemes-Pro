/* === RIGHT - CONVERSATION CONTAINER === */
main [role="presentation"] {
    background-color: var(--c-bg-chats-container) !important;
}

/* ===RIGHT - Chats - User/Assistend margin-bottom and top. Gap from heading and svg icons ===*/
main [data-message-author-role="user"],
main [data-message-author-role="assistant"] {
    margin-top: var(--mt-chat-txt) !important;
    margin-bottom: var(--mb-chat-txt) !important;

    .markdown {
        color: var(--c-txt) !important;
    }
}



/* @ === RIGHT - CHATS BUBBLES ===*/
main [data-testid^="conversation-turn-"] {
    margin-bottom: var(--mb-msg) !important;

    // === RIGHT - CHATS BUBBLES DIV ===
    .group {
        // padding: var(--p-msg) !important;
        padding: calc(var(--p-msg) * 1.3) var(--p-msg) var(--p-msg) var(--p-msg) !important;
        border-radius: var(--border-radius-msg) !important;

        /*  TODO gap: 0.75rem + width: 1.5rem = 2.25rem toliko treba da bude padding-right/margin-right i dodati flex-grow: 1;
                ovome: relative flex w-full flex-col lg:w-[calc(100%-115px)] agent-turn 
                i ovome: lg:w-[calc(100%-115px)]    to je isti deo samo za user chat bubble
            to je kao chat onaj deo gde je chat, cudno ima veliki space sa desne strane, 
        */
        // Fix original strange space on the right (left is svg of user/gpt) in the chat bubbles where text is
        div[class*="lg:w-[calc(100%-115px)]"] {
            // .agent-turn {
            --gap-3: 0.75rem;
            --svg-w: 1.5rem;
            flex-grow: 1 !important;
            margin-right: calc(var(--gap-3) + var(--svg-w)) !important;
            // padding-right: calc(var(--gap-3) + var(--svg-w)) !important;
            // border: 2px solid red !important;    
        }

    }

    // === RIGHT - CHATS USER/GPT NAMES ===
    .font-semibold.select-none {
        text-transform: uppercase;
    }

    .gizmo-shadow-stroke div {
        color: var(--c-on-accent) !important;
    }

    /* @ === RIGHT - CHATS BUBBLES - USER ===*/
    &:has([data-message-author-role="user"]) {

        // === RIGHT - CHATS BUBBLE BG ===
        .group {
            background-color: var(--c-bg-msg-user);
        }

        // === RIGHT - CHATS BUBBLES - ACC NAMES - USER ===
        .font-semibold.select-none {
            color: var(--c-msg-name-user);
        }

        // === RIGHT - CHATS BUBBLEs - USER SVG ===
        button svg>path {
            fill: var(--c-msg-name-user);
        }
    }

    /* @ === RIGHT - CHATS BUBBLES - GPT ===*/
    &:has([data-message-author-role="assistant"]) {

        // === RIGHT - CHATS BUBBLE BG ===
        .group {
            background-color: var(--c-bg-msg-gpt);
        }

        // === RIGHT - CHATS BUBBLES - ACC NAMES - USER ===
        .font-semibold.select-none {
            // color: var(--c-msg-name-gpt);
            color: var(--avatar-color);
        }

        // === RIGHT - CHATS BUBBLEs - USER SVG ===
        button svg>path {
            // fill: var(--c-msg-name-gpt);
            fill: var(--avatar-color);
        }
    }

    /* === RIGHT - <pre> - MARKDOWN CODE IN CHATS ===*/
    pre {
        border-radius: var(--border-radius-pre) !important;
        margin: var(--my-pre) auto !important;

        &>.bg-black {
            background-color: var(--c-bg-pre) !important;
        }


        // === RIGHT - <pre> - header ===
        .bg-black>div:has(> span) {
            background-color: var(--c-bg-pre-header) !important;

            // Code name in markdown header (html, php, css, etc)
            >span {
                color: var(--c-accent-light) !important;
            }

            // 'Copy code' btn in markdown header
            button:has(svg) {
                color: var(--c-accent-light) !important;
                background-color: var(--c-bg-pre-header-btn);
                padding: var(--py-btn) var(--px-btn);
                border-radius: 10px;

                // SVG icons before 'Copy code' btn in md
                svg>path {
                    fill: var(--c-accent-light) !important;
                }
            }
        }
    }
}